<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Personal website of Roman Böhm. Includes blog posts, shorter 'Today I learned' posts, and various personal information."><meta name=viewport content="width=device-width,initial-scale=1"><link href=/css/stylesheet.css rel=stylesheet><title>Roman Böhm - Ubuntu and Nvidia Optimus</title></head><body><h1>Roman Böhm</h1><nav><ul class=menu><li><a href=/>Home</a></li><li><a href=/posts/>Posts</a></li><li><a href=/til/>TIL</a></li><li><a href=/tags/>Tags</a></li><li><a href=/about/>About</a></li><li><a href=/index.xml><img src=/images/rss.svg alt="RSS icon" width=14em></a></li></ul></nav><hr><h1>Ubuntu and Nvidia Optimus</h1><h2>2021-09-06</h2><b><a href=/tags/linux>linux</a></b><p>How to: Make Nvidia Optimus work after installing Ubuntu 21.04.</p><p>I own a Thinkpad T480 with a dedicated GPU (Nvidia Geforce MX 150) in addition to the onboard Intel GPU. The easiest way to have a Linux distribution with full Optimus support running would be to download the most recent PopOS! image with the proprietary Nvidia drivers baked in.</p><p>Since I cannot stand some of the modifications System76 made to Gnome I just want to get the most recent Ubuntu (or Kubuntu) version and go from there. Ubuntu installed just fine without any graphics glitched or black screens and <code>prime-select query</code> shows <em>nvidia</em>. Something was not right, however: <code>nvidia-settings</code> produced a tiny, empty window and judging from <code>powertop</code> stats it seemed like the system still used the onboard intel graphics.</p><p>After digging through ten year-old Stack Overflow posts and &ldquo;solved&rdquo; topics on the Nvidia forums I tried the most straightforward suggestion, which was to update to a more recent version of the Nvidia driver than what was provided through the Ubuntu install. So the whole endeavor might now be summarized as</p><ol><li>Install Ubuntu with the &ldquo;Install 3rd party software&rdquo; option enabled.</li><li>Run <code>sudo apt install nvidia-driver-470</code> (or whatever is newest/stable enough).</li></ol><p>Note: If you need an even newer version you might want to add the <em>graphics-drivers/ppa</em> repository and run <code>sudo apt update</code> before <code>install</code>.</p><hr>© Roman Böhm 2021 - 2023 &ndash; <a href=https://github.com/romanboehm>Github</a> &ndash;
<a rel=me href=https://mastodon.social/@romanboehm>Mastodon</a> &ndash; <a href=https://www.linkedin.com/in/%F0%9F%96%A5%EF%B8%8F-roman-b%C3%B6hm-837946175/>LinkedIn</a></body></html>