<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Personal website of Roman Böhm. Includes blog posts, shorter 'Today I learned' posts, and various personal information."><meta name=viewport content="width=device-width,initial-scale=1"><link href=/css/stylesheet.css rel=stylesheet><title>Roman Böhm - Using a Manitu Domain for iCloud Mail</title></head><body><h1>Roman Böhm</h1><nav><ul class=menu><li><a href=/>Home</a></li><li><a href=/posts/>Posts</a></li><li><a href=/til/>TIL</a></li><li><a href=/tags/>Tags</a></li><li><a href=/about/>About</a></li><li><a href=/index.xml><img src=/images/rss.svg alt="RSS icon" width=14em></a></li></ul></nav><hr><h1>Using a Manitu Domain for iCloud Mail</h1><h2>2023-06-23</h2><b><a href=/tags/icloud>icloud</a></b><aside><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#notes>Notes</a></li><li><a href=#steps>Steps</a><ul><li><a href=#mx>MX</a></li><li><a href=#txt>TXT</a></li><li><a href=#spf>SPF</a></li><li><a href=#dkim>DKIM</a></li><li><a href=#finish>Finish</a></li></ul></li></ul></nav></aside><h2 id=introduction>Introduction</h2><p>How to: Set up a custom domain for iCloud mail using a Manitu domain</p><p>I&rsquo;m using the German hoster <a href=https://www.manitu.de>Manitu</a> for the romanboehm.com domain. I also have an iCloud+ subscription <a href=https://www.icloud.com/icloudplus/customdomain>allowing me to use this domain for iCloud mail</a>. I found the process of setting that up quite under-supported on both iCloud and Manitu&rsquo;s side, so I wanted to document it. <a href=https://bazomg.de/index.php/2022/01/eigene-domain-in-icloud-mail-nutzen/>A German-speaking blogger named Steven Kaminsky apparently had encountered the same pains in the past</a>, and the linked post was of great help, but I still wanted to quickly persist my notes on the process and highlight potential hiccups with Manitu especially. For my sake and fellow Manitu-with-iCloud+ users'.</p><h2 id=notes>Notes</h2><ol><li><p>For the following instructions I&rsquo;m going to assume you&rsquo;ve successfully made it past the initial stages of subscribing to iCloud+ and entering your domain there.</p></li><li><p>Base your changes on the <strong>personalized</strong> DNS records iCloud+ gave you through email or your iCloud+ domain settings page. They should look like this:</p><p><img src=icloud-dns-entries.png alt="DNS records required by iCloud"></p></li><li><p>Common pattern for entering all but the DKIM record on Manitu&rsquo;s side: Leave the <em>Host</em> part blank. Manitu does not allow you to enter the <em>@</em> sign. And if you enter your domain, as suggested by iCloud&rsquo;s support page, Manitu will ask for confirmation whether that&rsquo;s what you want because then you&rsquo;d end up with a duplicate host. So, leave it blank, Manitu will automatically fill in e.g. <em>romanboehm.com.</em> as you can verify by again downloading your DNS records later.</p><p><img src=manitu-example-dns-entry.png alt="Example DNS record with the Host part being left blank">
The corresponding entry in you downloaded records file would show</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>romanboehm.com. 86400 IN MX	10 mx01.mail.icloud.com.
</span></span></code></pre></div></li></ol><h2 id=steps>Steps</h2><p>Now you should be ready to enter the DNS settings you&rsquo;ve been presented with into <a href=https://mein.manitu.de/domain/forwarddns/>Manitu&rsquo;s Forward DNS settings page</a>. As for the individual changes:</p><h3 id=mx>MX</h3><p>For the MX records, first delete existing MX records. Then go ahead and create the new ones by copy-and-pasting the values which iCloud requires into the <em>Ziel</em>, i.e. target input element. As mentioned, leave the <em>Host</em> input blank.</p><h3 id=txt>TXT</h3><p>For the TXT record given by iCloud, add a new TXT record, copy and paste the value given by iCloud, i.e. the <em>apple-domain=random-characters</em> string. It will appear double-quoted once you save the record, that&rsquo;s fine! Host: blank.</p><h3 id=spf>SPF</h3><p>For the SPF record, create another <em>TXT</em> record. Only this time, strip the string given to you by iCloud off the quotes. Manitu does the double-quoting here already. You can see the &ldquo;SPF&rdquo; TXT record having the value <em>&ldquo;v=spf1 include:icloud.com ~all&rdquo;</em> if you did it right. Host: blank.</p><h3 id=dkim>DKIM</h3><p>Lastly, for the DKIM record, create a new <em>CNAME</em> record with <em>sig1._domainkey</em> as the <em>Host</em> and the <em>personalized value from the mail sent to you or the personalized instructions page</em>. This is important because should you go by the <a href=https://support.apple.com/en-gb/HT212524>general support page on custom domains for iCloud mail</a>, it will present to you a value which looks deceivingly close to something you could just paste in, but looking closely, it has an <em>example.com</em> part for the domain. There are people to which this allegedly has happened, and it took them a long time to figure it out&mldr;</p><h3 id=finish>Finish</h3><p>After all that, the Manitu DNS page for your domain should look something like this:</p><p><img src=manitu-dns-entries.png alt="Manitu DNS records page after having gone through the above reconfiguration steps"></p><p>Hit <em>Speichern</em>, i.e. save the modifications you&rsquo;ve just made. Then verify through the iCloud+ custom domain verification mechanism all is to iCloud&rsquo;s satisfaction. It should be.</p><hr>© Roman Böhm 2021 - 2024 &ndash; <a href=https://github.com/romanboehm>Github</a> &ndash;
<a rel=me href=https://mastodon.social/@romanboehm>Mastodon</a> &ndash; <a href=https://www.linkedin.com/in/%F0%9F%96%A5%EF%B8%8F-roman-b%C3%B6hm-837946175/>LinkedIn</a></body></html>